# TEST_GROUPS define logical sets of tests
# - 'default' includes all tests except 'integration'
# - Each category in TESTS corresponds to a module group
# - Tags are used for runtime behavior or logic classification
# - Valid tags: unit, subsystem, system, sequential, fast, slow

TEST_GROUPS:
  
  default:
    modules: [building_blocks, branching, memory, control]

  benchmark:
    modules: [benchmark]

  integration:
    modules: [integration]

  building_blocks:
    modules: [building_blocks]

  branching:
    modules: [branching]

  memory:
    modules: [memory]

  control:
    modules: [control]


RISCV_PROGRAMS:
  basic_asm_tests:
    - alu_branch_jalr_test
    - branch_shift_test
    - branch_shiftu_test
    - mem_ext_logic_test
    - branch_cache_stress_test
    - bp_rollback_icache_overlap
    - full_test_one
    - full_test_two

  c_programs:
    - sum

  benchmark:
    - dhrystone

#Contains each possible test
TESTS:
# Tagging Rules
# - Every test must have a scope tag: [unit], [subsystem], or [system]
# - Only unit tests may be tagged as [sequential]
# - [fast] and [slow] refer to simulation runtime, not design type

  benchmark:

    riscv_top_simple_mem:
      tb: riscv_top_tb.sv
      defines: [NO_ICACHE]
      tags: [system, benchmark, slow]

    riscv_top_icache:
      tb: riscv_top_tb.sv
      defines: [ICACHE]
      tags: [system, benchmark, slow]

  integration:

    riscv_top_simple_mem:
      tb: riscv_top_tb.sv
      defines: [NO_ICACHE]
      tags: [system, basic_asm, fast]

    riscv_top_icache:
      tb: riscv_top_tb.sv
      defines: [ICACHE]
      tags: [system, basic_asm, fast]

  control:

    main_decoder:
      tb: main_decoder_tb.sv
      defines: []
      tags: [unit, fast]

    alu_decoder:
      tb: alu_decoder_tb.sv
      defines: []
      tags: [unit, fast]
    
    width_decoder:
      tb: width_decoder_tb.sv
      defines: []
      tags: [unit, fast]
    
    write_decoder:
      tb: write_decoder_tb.sv
      defines: []
      tags: [unit, fast]
    
    hazard_unit:
      tb: hazard_unit_tb.sv
      defines: []
      tags: [unit, fast]

  branching:

    branching_buffer:
      tb: branching_buffer_tb.sv
      defines: []
      tags: [subsystem, slow]

    branch_resolution_unit:
      tb: branch_resolution_unit_tb.sv
      defines: []
      tags: [unit, fast]
    
    ghr:
      tb: ghr_tb.sv
      defines: []
      tags: [unit, sequential, fast]
    
    local_predictor:
      tb: local_predictor_tb.sv
      defines: []
      tags: [unit, sequential, fast]
    
    branch_control_unit:
      tb: branch_control_unit_tb.sv
      defines: []
      tags: [unit, fast]

  memory:

    icache_l1:
      tb: icache_l1_dir_tb.sv
      defines: []
      tags: [subsystem, fast]

    instr_mem:
      tb: instr_mem_tb.sv
      defines: []
      tags: [unit, fast]
    
    data_mem:
      tb: data_mem_tb.sv
      defines: []
      tags: [unit, fast]

    instr_cache_ctlr:
      tb: instr_cache_ctlr_tb.sv
      defines: []
      tags: [unit, sequential, fast]
    
    instr_cache_set_multi_tb:
      tb: instr_cache_set_multi_tb.sv
      defines: []
      tags: [unit, sequential, fast]

  building_blocks:

    alu:
      tb: alu_tb.sv
      defines: []
      tags: [unit, fast] 

    adder:
      tb: adder_tb.sv
      defines: []
      tags: [unit, fast]

    flop:
      tb: flop_tb.sv
      defines: []
      tags: [unit, sequential, fast]

    reduce:
      tb: reduce_tb.sv
      defines: []
      tags: [unit, fast]
    
    imm_extend:
      tb: imm_extend_tb.sv
      defines: []
      tags: [unit, fast]
    
    reg_file:
      tb: reg_file_tb.sv
      defines: []
      tags: [unit, sequential, fast]
